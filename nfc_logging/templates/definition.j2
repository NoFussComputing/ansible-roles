#
# Log Rotate definition, {{ item.name }}
#
# Managed By: Ansible
# Role: nfc_logging
# 
# Do not edit this file directly as it will be automagically updated by ansible.
# to make changes update the ansible play that deploys this file.


{{ item.path }} {
    {%if item.interval is defined -%}
      {{ item.interval }}
    {%- else -%}
      daily
    {%- endif %}

    rotate {% if item.keep is defined %}{{ item.keep }}{% else %}7{% endif %}

    size {% if item.size is defined %}{{ item.size }}{% else %}{{ logfile_max_size }}M{% endif %}

    missingok
    {% if item.compress | default(true) %}compress
    {% if delaycompress | default(true) | bool -%}
    delaycompress
    {%- endif -%}
    {%- endif %}

    notifempty
    {% if item.postrotate is defined -%}
    postrotate
      {{ item.postrotate }}
    endscript
    {%- endif %}

    {% if item.create is defined -%}
    
      create {{ item.create.mode }} {{ item.create.owner }} {{ item.create.group }}
    
    {%- endif %}

    {% if item.su is defined -%}

    su {{ item.su }}

    {%- endif %}

}
